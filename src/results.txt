Teste 1
------------------------------------------
(Integer 1)
1
------------------------------------------
 : int
[T-Int T  ⊢ '(Integer 1)' : Int]

------------------------------------------
 = 1
{E-Int  1}

------------------------------------------

------------------------------------------

Teste 2
------------------------------------------
(Integer -1)
-1
------------------------------------------
 : int
[T-Int T  ⊢ '(Integer -1)' : Int]

------------------------------------------
 = -1
{E-Int  -1}

------------------------------------------

------------------------------------------

Teste 3
------------------------------------------
(Boolean true)
true
------------------------------------------
 : bool
[T-Bool T  ⊢ '(Boolean true)' : Bool]

------------------------------------------
 = true
{E-Bool  true}

------------------------------------------

------------------------------------------

Teste 4
------------------------------------------
(Boolean false)
false
------------------------------------------
 : bool
[T-Bool T  ⊢ '(Boolean false)' : Bool]

------------------------------------------
 = false
{E-Bool  false}

------------------------------------------

------------------------------------------

Teste 5
------------------------------------------
()
()
------------------------------------------
 : unit
[T-Unit  ⊢ '()' : Unit  ⊢ '()' : Unit]

------------------------------------------
 = ()
{E-Unit  ()}

------------------------------------------

------------------------------------------

Teste 6
------------------------------------------
(Conditional ((Boolean true), (Integer 1), (Integer 0)))
if
  true
then
  1
else
  0
------------------------------------------
 : int
[T-Bool T  ⊢ '(Boolean true)' : Bool]
[T-Int T  ⊢ '(Integer 1)' : Int]
[T-Int T  ⊢ '(Integer 0)' : Int]
[T-If  ⊢ '(Boolean true)' : Bool ∧ '(Integer 1)' : int ∧ '(Integer 0)' : int  ⊢ '(Conditional ((Boolean true), (Integer 1), (Integer 0)))' : int]

------------------------------------------
 = 1
{E-If-True  if true then ... else ... → (Integer 1)}
{E-Int  1}

------------------------------------------

------------------------------------------

Teste 7
------------------------------------------
(Conditional ((Boolean false), (Integer 1), (Integer 0)))
if
  false
then
  1
else
  0
------------------------------------------
 : int
[T-Bool T  ⊢ '(Boolean false)' : Bool]
[T-Int T  ⊢ '(Integer 1)' : Int]
[T-Int T  ⊢ '(Integer 0)' : Int]
[T-If  ⊢ '(Boolean false)' : Bool ∧ '(Integer 1)' : int ∧ '(Integer 0)' : int  ⊢ '(Conditional ((Boolean false), (Integer 1), (Integer 0)))' : int]

------------------------------------------
 = 0
{E-If-False  if false then ... else ... → (Integer 0)}
{E-Int  0}

------------------------------------------

------------------------------------------

Teste 8
O tipo de e1 em um Conditional(e1, e2, e3) deve ser Bool, mas foi "(Integer 1)": int
	[]

Teste 9
O tipo de e1 em um Conditional(e1, e2, e3) deve ser Bool, mas foi "(Integer -1)": int
	[]

Teste 10
------------------------------------------
(BinaryOperation (+, (Integer 1), (Integer 2)))
(
  1
  +
  2
)
------------------------------------------
 : int
[T-Int T  ⊢ '(Integer 1)' : Int]
[T-Int T  ⊢ '(Integer 2)' : Int]
[T-Op+  ⊢ '(Integer 1)' : Int ∧ '(Integer 2)' : Int  ⊢ '(BinaryOperation (+, (Integer 1), (Integer 2)))' : Int]

------------------------------------------
 = 3
{E-BinOp  1 + 2 → 3}

------------------------------------------

------------------------------------------

Teste 11
------------------------------------------
(BinaryOperation (-, (Integer 1), (Integer 2)))
(
  1
  -
  2
)
------------------------------------------
 : int
[T-Int T  ⊢ '(Integer 1)' : Int]
[T-Int T  ⊢ '(Integer 2)' : Int]
[T-Op-  ⊢ '(Integer 1)' : Int ∧ '(Integer 2)' : Int  ⊢ '(BinaryOperation (-, (Integer 1), (Integer 2)))' : Int]

------------------------------------------
 = -1
{E-BinOp  1 - 2 → -1}

------------------------------------------

------------------------------------------

Teste 12
------------------------------------------
(BinaryOperation (*, (Integer 1), (Integer 2)))
(
  1
  *
  2
)
------------------------------------------
 : int
[T-Int T  ⊢ '(Integer 1)' : Int]
[T-Int T  ⊢ '(Integer 2)' : Int]
[T-Op*  ⊢ '(Integer 1)' : Int ∧ '(Integer 2)' : Int  ⊢ '(BinaryOperation (*, (Integer 1), (Integer 2)))' : Int]

------------------------------------------
 = 2
{E-BinOp  1 * 2 → 2}

------------------------------------------

------------------------------------------

Teste 13
------------------------------------------
(BinaryOperation (/, (Integer 1), (Integer 2)))
(
  1
  /
  2
)
------------------------------------------
 : int
[T-Int T  ⊢ '(Integer 1)' : Int]
[T-Int T  ⊢ '(Integer 2)' : Int]
[T-Op/ Error  ⊢ '(Integer 1)' : Int ∧ '(Integer 2)' : Int  ⊢ '(BinaryOperation (/, (Integer 1), (Integer 2)))' : Int]

------------------------------------------
 = 0
{E-BinOp  1 / 2 → 0}

------------------------------------------

------------------------------------------

Teste 14
Divisão por zero
	[]

Teste 15
------------------------------------------
(BinaryOperation (=, (Integer 1), (Integer 2)))
(
  1
  =
  2
)
------------------------------------------
 : bool
[T-Int T  ⊢ '(Integer 1)' : Int]
[T-Int T  ⊢ '(Integer 2)' : Int]
[T-Op=  ⊢ '(Integer 1)' : Int ∧ '(Integer 2)' : Int  ⊢ '(BinaryOperation (=, (Integer 1), (Integer 2)))' : Bool]

------------------------------------------
 = false
{E-BinOp  1 = 2 → false}

------------------------------------------

------------------------------------------

Teste 16
------------------------------------------
(BinaryOperation (<>, (Integer 1), (Integer 2)))
(
  1
  <>
  2
)
------------------------------------------
 : bool
[T-Int T  ⊢ '(Integer 1)' : Int]
[T-Int T  ⊢ '(Integer 2)' : Int]
[T-Op<>  ⊢ '(Integer 1)' : Int ∧ '(Integer 2)' : Int  ⊢ '(BinaryOperation (<>, (Integer 1), (Integer 2)))' : Bool]

------------------------------------------
 = true
{E-BinOp  1 <> 2 → true}

------------------------------------------

------------------------------------------

Teste 17
------------------------------------------
(BinaryOperation (>, (Integer 1), (Integer 2)))
(
  1
  >
  2
)
------------------------------------------
 : bool
[T-Int T  ⊢ '(Integer 1)' : Int]
[T-Int T  ⊢ '(Integer 2)' : Int]
[T-Op>  ⊢ '(Integer 1)' : Int ∧ '(Integer 2)' : Int  ⊢ '(BinaryOperation (>, (Integer 1), (Integer 2)))' : Bool]

------------------------------------------
 = false
{E-BinOp  1 > 2 → false}

------------------------------------------

------------------------------------------

Teste 18
------------------------------------------
(BinaryOperation (>=, (Integer 1), (Integer 2)))
(
  1
  >=
  2
)
------------------------------------------
 : bool
[T-Int T  ⊢ '(Integer 1)' : Int]
[T-Int T  ⊢ '(Integer 2)' : Int]
[T-Op>=  ⊢ '(Integer 1)' : Int ∧ '(Integer 2)' : Int  ⊢ '(BinaryOperation (>=, (Integer 1), (Integer 2)))' : Bool]

------------------------------------------
 = false
{E-BinOp  1 >= 2 → false}

------------------------------------------

------------------------------------------

Teste 19
------------------------------------------
(BinaryOperation (<, (Integer 1), (Integer 2)))
(
  1
  <
  2
)
------------------------------------------
 : bool
[T-Int T  ⊢ '(Integer 1)' : Int]
[T-Int T  ⊢ '(Integer 2)' : Int]
[T-Op<  ⊢ '(Integer 1)' : Int ∧ '(Integer 2)' : Int  ⊢ '(BinaryOperation (<, (Integer 1), (Integer 2)))' : Bool]

------------------------------------------
 = true
{E-BinOp  1 < 2 → true}

------------------------------------------

------------------------------------------

Teste 20
------------------------------------------
(BinaryOperation (<=, (Integer 1), (Integer 2)))
(
  1
  <=
  2
)
------------------------------------------
 : bool
[T-Int T  ⊢ '(Integer 1)' : Int]
[T-Int T  ⊢ '(Integer 2)' : Int]
[T-Op<=  ⊢ '(Integer 1)' : Int ∧ '(Integer 2)' : Int  ⊢ '(BinaryOperation (<=, (Integer 1), (Integer 2)))' : Bool]

------------------------------------------
 = true
{E-BinOp  1 <= 2 → true}

------------------------------------------

------------------------------------------

Teste 21
------------------------------------------
(BinaryOperation (&&, (Boolean true), (Boolean false)))
(
  true
  &&
  false
)
------------------------------------------
 : bool
[T-Bool T  ⊢ '(Boolean true)' : Bool]
[T-Bool T  ⊢ '(Boolean false)' : Bool]
[T-Op&&  ⊢ '(Boolean true)' : Bool ∧ '(Boolean false)' : Bool  ⊢ '(BinaryOperation (&&, (Boolean true), (Boolean false)))' : Bool]

------------------------------------------
 = false
{E-BinOp  true && false → false}

------------------------------------------

------------------------------------------

Teste 22
------------------------------------------
(BinaryOperation (||, (Boolean true), (Boolean false)))
(
  true
  ||
  false
)
------------------------------------------
 : bool
[T-Bool T  ⊢ '(Boolean true)' : Bool]
[T-Bool T  ⊢ '(Boolean false)' : Bool]
[T-Op||  ⊢ '(Boolean true)' : Bool ∧ '(Boolean false)' : Bool  ⊢ '(BinaryOperation (||, (Boolean true), (Boolean false)))' : Bool]

------------------------------------------
 = true
{E-BinOp  true || false → true}

------------------------------------------

------------------------------------------

Teste 23
------------------------------------------
(Let (x, int, (Integer 5), (Let (y, ref int, (New ((Integer 1))), (Let (z, ref int, (New ((Identifier x))), (Sequence ((While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))), (Derefence ((Identifier y)))))))))))
let x : int =
  5
in
  let y : ref int =
    new
      1
  in
    let z : ref int =
      new
        x
    in
      (
        while
          (
            !z
            >
            0
          )
        do
          (
            y := (
  !y
  *
  !z
);
            z := (
  !z
  -
  1
)
          );
        !y
      )
------------------------------------------
 : int
[T-Int T  ⊢ '(Integer 5)' : Int]
[T-Int T (x: int)  ⊢ '(Integer 1)' : Int]
[T-New (x: int)  ⊢ '(Integer 1)' : int (x: int)  ⊢ '(Integer 1)' : ref int]
[T-Var Γ('x') : int (y: ref int) (x: int)  ⊢ '(Identifier x)' : int]
[T-New (y: ref int) (x: int)  ⊢ '(Identifier x)' : int (y: ref int) (x: int)  ⊢ '(Identifier x)' : ref int]
[T-Var Γ('z') : ref int (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier z)' : ref int]
[T-Deref (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier z)' : int (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier z)' : int]
[T-Int T (z: ref int) (y: ref int) (x: int)  ⊢ '(Integer 0)' : Int]
[T-Op> (z: ref int) (y: ref int) (x: int)  ⊢ '(Derefence ((Identifier z)))' : Int ∧ '(Integer 0)' : Int (z: ref int) (y: ref int) (x: int)  ⊢ '(BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0)))' : Bool]
[T-Var Γ('y') : ref int (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier y)' : ref int]
[T-Var Γ('y') : ref int (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier y)' : ref int]
[T-Deref (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier y)' : int (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier y)' : int]
[T-Var Γ('z') : ref int (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier z)' : ref int]
[T-Deref (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier z)' : int (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier z)' : int]
[T-Op* (z: ref int) (y: ref int) (x: int)  ⊢ '(Derefence ((Identifier y)))' : Int ∧ '(Derefence ((Identifier z)))' : Int (z: ref int) (y: ref int) (x: int)  ⊢ '(BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z)))))' : Int]
[T-Atr (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier y)' : int ∧ '(BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z)))))' : int (z: ref int) (y: ref int) (x: int)  ⊢ '(Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z)))))))' : Unit]
[T-Var Γ('z') : ref int (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier z)' : ref int]
[T-Var Γ('z') : ref int (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier z)' : ref int]
[T-Deref (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier z)' : int (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier z)' : int]
[T-Int T (z: ref int) (y: ref int) (x: int)  ⊢ '(Integer 1)' : Int]
[T-Op- (z: ref int) (y: ref int) (x: int)  ⊢ '(Derefence ((Identifier z)))' : Int ∧ '(Integer 1)' : Int (z: ref int) (y: ref int) (x: int)  ⊢ '(BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1)))' : Int]
[T-Atr (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier z)' : int ∧ '(BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1)))' : int (z: ref int) (y: ref int) (x: int)  ⊢ '(Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1)))))' : Unit]
[T-Sequence (z: ref int) (y: ref int) (x: int)  ⊢ '(Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z)))))))' : Unit ∧ '(Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1)))))' : unit (z: ref int) (y: ref int) (x: int)  ⊢ '(Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1)))))))' : unit]
[T-While (z: ref int) (y: ref int) (x: int)  ⊢ '(BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0)))' : Bool ∧ '(Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1)))))))' : Unit (z: ref int) (y: ref int) (x: int)  ⊢ '(While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1)))))))))' : Unit]
[T-Var Γ('y') : ref int (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier y)' : ref int]
[T-Deref (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier y)' : int (z: ref int) (y: ref int) (x: int)  ⊢ '(Identifier y)' : int]
[T-Sequence (z: ref int) (y: ref int) (x: int)  ⊢ '(While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1)))))))))' : Unit ∧ '(Derefence ((Identifier y)))' : int (z: ref int) (y: ref int) (x: int)  ⊢ '(Sequence ((While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))), (Derefence ((Identifier y)))))' : int]
[T-Let (z: ref int) (y: ref int) (x: int)  ⊢ '(New ((Identifier x)))' : ref int ∧ '(Sequence ((While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))), (Derefence ((Identifier y)))))' : int (z: ref int) (y: ref int) (x: int)  ⊢ '(Let (z, ref int, (New ((Identifier x))), (Sequence ((While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))), (Derefence ((Identifier y)))))))' : int]
[T-Let (y: ref int) (x: int)  ⊢ '(New ((Integer 1)))' : ref int ∧ '(Let (z, ref int, (New ((Identifier x))), (Sequence ((While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))), (Derefence ((Identifier y)))))))' : int (y: ref int) (x: int)  ⊢ '(Let (y, ref int, (New ((Integer 1))), (Let (z, ref int, (New ((Identifier x))), (Sequence ((While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))), (Derefence ((Identifier y)))))))))' : int]
[T-Let (x: int)  ⊢ '(Integer 5)' : int ∧ '(Let (y, ref int, (New ((Integer 1))), (Let (z, ref int, (New ((Identifier x))), (Sequence ((While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))), (Derefence ((Identifier y)))))))))' : int (x: int)  ⊢ '(Let (x, int, (Integer 5), (Let (y, ref int, (New ((Integer 1))), (Let (z, ref int, (New ((Identifier x))), (Sequence ((While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))), (Derefence ((Identifier y)))))))))))' : int]

------------------------------------------
 = 120
{E-Let-Subst  let x = 5 in ...}
{E-Let-Ref  let y = ℓ0 in ...}
{E-Let-Ref  let z = ℓ1 in ...}
{E-Seq-Step  (Conditional ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))), ())); (Derefence ((Identifier y)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (Conditional ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))), ())); (Derefence ((Identifier y)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (Conditional ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))), ())); (Derefence ((Identifier y)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (Conditional ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))), ())); (Derefence ((Identifier y)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (Conditional ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))), ())); (Derefence ((Identifier y)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))); (Derefence ((Identifier y)))}
{E-Seq-Step  (Conditional ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))), (While ((BinaryOperation (>, (Derefence ((Identifier z))), (Integer 0))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (*, (Derefence ((Identifier y))), (Derefence ((Identifier z))))))), (Assignment ((Identifier z), (BinaryOperation (-, (Derefence ((Identifier z))), (Integer 1))))))))))), ())); (Derefence ((Identifier y)))}
{E-Seq-Step  (); (Derefence ((Identifier y)))}
{E-Seq  (); ... → (Derefence ((Identifier y)))}
{E-Deref  !ℓ0 → 120}

------------------------------------------
(ℓ0: 120) (ℓ1: 0) 
------------------------------------------

Teste 24
------------------------------------------
(Let (a, int, (Integer 30), (Let (b, int, (Integer 18), (Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))))))
let a : int =
  30
in
  let b : int =
    18
  in
    let x : ref int =
      new
        a
    in
      let y : ref int =
        new
          b
      in
        (
          while
            (
              !y
              <>
              0
            )
          do
            (
              let tmp : ref int =
                new
                  !y
              in
                (
                  y := (
  !x
  mod
  !y
);
                  x := !tmp
                );
              ()
            );
          !x
        )
------------------------------------------
 : int
[T-Int T  ⊢ '(Integer 30)' : Int]
[T-Int T (a: int)  ⊢ '(Integer 18)' : Int]
[T-Var Γ('a') : int (b: int) (a: int)  ⊢ '(Identifier a)' : int]
[T-New (b: int) (a: int)  ⊢ '(Identifier a)' : int (b: int) (a: int)  ⊢ '(Identifier a)' : ref int]
[T-Var Γ('b') : int (x: ref int) (b: int) (a: int)  ⊢ '(Identifier b)' : int]
[T-New (x: ref int) (b: int) (a: int)  ⊢ '(Identifier b)' : int (x: ref int) (b: int) (a: int)  ⊢ '(Identifier b)' : ref int]
[T-Var Γ('y') : ref int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : ref int]
[T-Deref (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int]
[T-Int T (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Integer 0)' : Int]
[T-Op<> (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Derefence ((Identifier y)))' : Int ∧ '(Integer 0)' : Int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0)))' : Bool]
[T-Var Γ('y') : ref int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : ref int]
[T-Deref (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int]
[T-New (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Derefence ((Identifier y)))' : int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Derefence ((Identifier y)))' : ref int]
[T-Var Γ('y') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : ref int]
[T-Var Γ('x') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : ref int]
[T-Deref (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int]
[T-Var Γ('y') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : ref int]
[T-Deref (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int]
[T-Opmod Error (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Derefence ((Identifier x)))' : Int ∧ '(Derefence ((Identifier y)))' : Int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y)))))' : Int]
[T-Atr (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int ∧ '(BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y)))))' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y)))))))' : Unit]
[T-Var Γ('x') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : ref int]
[T-Var Γ('tmp') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier tmp)' : ref int]
[T-Deref (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier tmp)' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier tmp)' : int]
[T-Atr (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int ∧ '(Derefence ((Identifier tmp)))' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Assignment ((Identifier x), (Derefence ((Identifier tmp)))))' : Unit]
[T-Sequence (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y)))))))' : Unit ∧ '(Assignment ((Identifier x), (Derefence ((Identifier tmp)))))' : unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp)))))))' : unit]
[T-Let (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(New ((Derefence ((Identifier y)))))' : ref int ∧ '(Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp)))))))' : unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp)))))))))' : unit]
[T-Unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '()' : Unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '()' : Unit]
[T-Sequence (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp)))))))))' : Unit ∧ '()' : unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ()))' : unit]
[T-While (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0)))' : Bool ∧ '(Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ()))' : Unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ()))))' : Unit]
[T-Var Γ('x') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : ref int]
[T-Deref (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int]
[T-Sequence (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ()))))' : Unit ∧ '(Derefence ((Identifier x)))' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))' : int]
[T-Let (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(New ((Identifier b)))' : ref int ∧ '(Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))' : int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))' : int]
[T-Let (x: ref int) (b: int) (a: int)  ⊢ '(New ((Identifier a)))' : ref int ∧ '(Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))' : int (x: ref int) (b: int) (a: int)  ⊢ '(Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))' : int]
[T-Let (b: int) (a: int)  ⊢ '(Integer 18)' : int ∧ '(Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))' : int (b: int) (a: int)  ⊢ '(Let (b, int, (Integer 18), (Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))))' : int]
[T-Let (a: int)  ⊢ '(Integer 30)' : int ∧ '(Let (b, int, (Integer 18), (Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))))' : int (a: int)  ⊢ '(Let (a, int, (Integer 30), (Let (b, int, (Integer 18), (Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))))))' : int]

------------------------------------------
 = 6
{E-Let-Subst  let a = 30 in ...}
{E-Let-Subst  let b = 18 in ...}
{E-Let-Ref  let x = ℓ0 in ...}
{E-Let-Ref  let y = ℓ1 in ...}
{E-Seq-Step  (Conditional ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))), ())); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier x), (Derefence ((Identifier tmp))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))), ())); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier x), (Derefence ((Identifier tmp))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))), ())); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier x), (Derefence ((Identifier tmp))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))), ())); (Derefence ((Identifier x)))}
{E-Seq-Step  (); (Derefence ((Identifier x)))}
{E-Seq  (); ... → (Derefence ((Identifier x)))}
{E-Deref  !ℓ0 → 6}

------------------------------------------
(ℓ0: 6) (ℓ1: 0) (ℓ2: 18) (ℓ3: 12) (ℓ4: 6) 
------------------------------------------

Teste 25
------------------------------------------
(Let (a, int, (Integer 42), (Let (b, int, (Integer 12), (Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))))))
let a : int =
  42
in
  let b : int =
    12
  in
    let x : ref int =
      new
        a
    in
      let y : ref int =
        new
          b
      in
        (
          while
            (
              !y
              <>
              0
            )
          do
            (
              let tmp : ref int =
                new
                  !y
              in
                (
                  y := (
  !x
  mod
  !y
);
                  x := !tmp
                );
              ()
            );
          !x
        )
------------------------------------------
 : int
[T-Int T  ⊢ '(Integer 42)' : Int]
[T-Int T (a: int)  ⊢ '(Integer 12)' : Int]
[T-Var Γ('a') : int (b: int) (a: int)  ⊢ '(Identifier a)' : int]
[T-New (b: int) (a: int)  ⊢ '(Identifier a)' : int (b: int) (a: int)  ⊢ '(Identifier a)' : ref int]
[T-Var Γ('b') : int (x: ref int) (b: int) (a: int)  ⊢ '(Identifier b)' : int]
[T-New (x: ref int) (b: int) (a: int)  ⊢ '(Identifier b)' : int (x: ref int) (b: int) (a: int)  ⊢ '(Identifier b)' : ref int]
[T-Var Γ('y') : ref int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : ref int]
[T-Deref (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int]
[T-Int T (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Integer 0)' : Int]
[T-Op<> (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Derefence ((Identifier y)))' : Int ∧ '(Integer 0)' : Int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0)))' : Bool]
[T-Var Γ('y') : ref int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : ref int]
[T-Deref (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int]
[T-New (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Derefence ((Identifier y)))' : int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Derefence ((Identifier y)))' : ref int]
[T-Var Γ('y') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : ref int]
[T-Var Γ('x') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : ref int]
[T-Deref (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int]
[T-Var Γ('y') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : ref int]
[T-Deref (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int]
[T-Opmod Error (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Derefence ((Identifier x)))' : Int ∧ '(Derefence ((Identifier y)))' : Int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y)))))' : Int]
[T-Atr (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int ∧ '(BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y)))))' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y)))))))' : Unit]
[T-Var Γ('x') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : ref int]
[T-Var Γ('tmp') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier tmp)' : ref int]
[T-Deref (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier tmp)' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier tmp)' : int]
[T-Atr (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int ∧ '(Derefence ((Identifier tmp)))' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Assignment ((Identifier x), (Derefence ((Identifier tmp)))))' : Unit]
[T-Sequence (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y)))))))' : Unit ∧ '(Assignment ((Identifier x), (Derefence ((Identifier tmp)))))' : unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp)))))))' : unit]
[T-Let (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(New ((Derefence ((Identifier y)))))' : ref int ∧ '(Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp)))))))' : unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp)))))))))' : unit]
[T-Unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '()' : Unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '()' : Unit]
[T-Sequence (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp)))))))))' : Unit ∧ '()' : unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ()))' : unit]
[T-While (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0)))' : Bool ∧ '(Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ()))' : Unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ()))))' : Unit]
[T-Var Γ('x') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : ref int]
[T-Deref (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int]
[T-Sequence (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ()))))' : Unit ∧ '(Derefence ((Identifier x)))' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))' : int]
[T-Let (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(New ((Identifier b)))' : ref int ∧ '(Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))' : int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))' : int]
[T-Let (x: ref int) (b: int) (a: int)  ⊢ '(New ((Identifier a)))' : ref int ∧ '(Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))' : int (x: ref int) (b: int) (a: int)  ⊢ '(Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))' : int]
[T-Let (b: int) (a: int)  ⊢ '(Integer 12)' : int ∧ '(Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))' : int (b: int) (a: int)  ⊢ '(Let (b, int, (Integer 12), (Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))))' : int]
[T-Let (a: int)  ⊢ '(Integer 42)' : int ∧ '(Let (b, int, (Integer 12), (Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))))' : int (a: int)  ⊢ '(Let (a, int, (Integer 42), (Let (b, int, (Integer 12), (Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))))))' : int]

------------------------------------------
 = 6
{E-Let-Subst  let a = 42 in ...}
{E-Let-Subst  let b = 12 in ...}
{E-Let-Ref  let x = ℓ0 in ...}
{E-Let-Ref  let y = ℓ1 in ...}
{E-Seq-Step  (Conditional ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))), ())); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier x), (Derefence ((Identifier tmp))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))), ())); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier x), (Derefence ((Identifier tmp))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))), ())); (Derefence ((Identifier x)))}
{E-Seq-Step  (); (Derefence ((Identifier x)))}
{E-Seq  (); ... → (Derefence ((Identifier x)))}
{E-Deref  !ℓ0 → 6}

------------------------------------------
(ℓ0: 6) (ℓ1: 0) (ℓ2: 12) (ℓ3: 6) 
------------------------------------------

Teste 26
------------------------------------------
(Let (a, int, (Integer 17), (Let (b, int, (Integer 13), (Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))))))
let a : int =
  17
in
  let b : int =
    13
  in
    let x : ref int =
      new
        a
    in
      let y : ref int =
        new
          b
      in
        (
          while
            (
              !y
              <>
              0
            )
          do
            (
              let tmp : ref int =
                new
                  !y
              in
                (
                  y := (
  !x
  mod
  !y
);
                  x := !tmp
                );
              ()
            );
          !x
        )
------------------------------------------
 : int
[T-Int T  ⊢ '(Integer 17)' : Int]
[T-Int T (a: int)  ⊢ '(Integer 13)' : Int]
[T-Var Γ('a') : int (b: int) (a: int)  ⊢ '(Identifier a)' : int]
[T-New (b: int) (a: int)  ⊢ '(Identifier a)' : int (b: int) (a: int)  ⊢ '(Identifier a)' : ref int]
[T-Var Γ('b') : int (x: ref int) (b: int) (a: int)  ⊢ '(Identifier b)' : int]
[T-New (x: ref int) (b: int) (a: int)  ⊢ '(Identifier b)' : int (x: ref int) (b: int) (a: int)  ⊢ '(Identifier b)' : ref int]
[T-Var Γ('y') : ref int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : ref int]
[T-Deref (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int]
[T-Int T (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Integer 0)' : Int]
[T-Op<> (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Derefence ((Identifier y)))' : Int ∧ '(Integer 0)' : Int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0)))' : Bool]
[T-Var Γ('y') : ref int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : ref int]
[T-Deref (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int]
[T-New (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Derefence ((Identifier y)))' : int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Derefence ((Identifier y)))' : ref int]
[T-Var Γ('y') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : ref int]
[T-Var Γ('x') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : ref int]
[T-Deref (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int]
[T-Var Γ('y') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : ref int]
[T-Deref (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int]
[T-Opmod Error (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Derefence ((Identifier x)))' : Int ∧ '(Derefence ((Identifier y)))' : Int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y)))))' : Int]
[T-Atr (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier y)' : int ∧ '(BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y)))))' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y)))))))' : Unit]
[T-Var Γ('x') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : ref int]
[T-Var Γ('tmp') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier tmp)' : ref int]
[T-Deref (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier tmp)' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier tmp)' : int]
[T-Atr (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int ∧ '(Derefence ((Identifier tmp)))' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Assignment ((Identifier x), (Derefence ((Identifier tmp)))))' : Unit]
[T-Sequence (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y)))))))' : Unit ∧ '(Assignment ((Identifier x), (Derefence ((Identifier tmp)))))' : unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp)))))))' : unit]
[T-Let (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(New ((Derefence ((Identifier y)))))' : ref int ∧ '(Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp)))))))' : unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp)))))))))' : unit]
[T-Unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '()' : Unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '()' : Unit]
[T-Sequence (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp)))))))))' : Unit ∧ '()' : unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ()))' : unit]
[T-While (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0)))' : Bool ∧ '(Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ()))' : Unit (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ()))))' : Unit]
[T-Var Γ('x') : ref int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : ref int]
[T-Deref (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Identifier x)' : int]
[T-Sequence (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ()))))' : Unit ∧ '(Derefence ((Identifier x)))' : int (tmp: ref int) (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))' : int]
[T-Let (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(New ((Identifier b)))' : ref int ∧ '(Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))' : int (y: ref int) (x: ref int) (b: int) (a: int)  ⊢ '(Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))' : int]
[T-Let (x: ref int) (b: int) (a: int)  ⊢ '(New ((Identifier a)))' : ref int ∧ '(Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))' : int (x: ref int) (b: int) (a: int)  ⊢ '(Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))' : int]
[T-Let (b: int) (a: int)  ⊢ '(Integer 13)' : int ∧ '(Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))' : int (b: int) (a: int)  ⊢ '(Let (b, int, (Integer 13), (Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))))' : int]
[T-Let (a: int)  ⊢ '(Integer 17)' : int ∧ '(Let (b, int, (Integer 13), (Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))))' : int (a: int)  ⊢ '(Let (a, int, (Integer 17), (Let (b, int, (Integer 13), (Let (x, ref int, (New ((Identifier a))), (Let (y, ref int, (New ((Identifier b))), (Sequence ((While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))), (Derefence ((Identifier x)))))))))))))' : int]

------------------------------------------
 = 1
{E-Let-Subst  let a = 17 in ...}
{E-Let-Subst  let b = 13 in ...}
{E-Let-Ref  let x = ℓ0 in ...}
{E-Let-Ref  let y = ℓ1 in ...}
{E-Seq-Step  (Conditional ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))), ())); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier x), (Derefence ((Identifier tmp))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))), ())); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier x), (Derefence ((Identifier tmp))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))), ())); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier x), (Derefence ((Identifier tmp))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Sequence ((), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))); (Derefence ((Identifier x)))}
{E-Seq-Step  (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))); (Derefence ((Identifier x)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())), (While ((BinaryOperation (<>, (Derefence ((Identifier y))), (Integer 0))), (Sequence ((Let (tmp, ref int, (New ((Derefence ((Identifier y))))), (Sequence ((Assignment ((Identifier y), (BinaryOperation (mod, (Derefence ((Identifier x))), (Derefence ((Identifier y))))))), (Assignment ((Identifier x), (Derefence ((Identifier tmp))))))))), ())))))), ())); (Derefence ((Identifier x)))}
{E-Seq-Step  (); (Derefence ((Identifier x)))}
{E-Seq  (); ... → (Derefence ((Identifier x)))}
{E-Deref  !ℓ0 → 1}

------------------------------------------
(ℓ0: 1) (ℓ1: 0) (ℓ2: 13) (ℓ3: 4) (ℓ4: 1) 
------------------------------------------

Teste 27
------------------------------------------
(Let (n, int, (Integer 10), (Let (acc, ref int, (New ((Integer 0))), (Let (i, ref int, (New ((Integer 1))), (Sequence ((While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Identifier n))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))), (Derefence ((Identifier acc)))))))))))
let n : int =
  10
in
  let acc : ref int =
    new
      0
  in
    let i : ref int =
      new
        1
    in
      (
        while
          (
            !i
            <=
            n
          )
        do
          (
            acc := (
  !acc
  +
  !i
);
            i := (
  !i
  +
  1
)
          );
        !acc
      )
------------------------------------------
 : int
[T-Int T  ⊢ '(Integer 10)' : Int]
[T-Int T (n: int)  ⊢ '(Integer 0)' : Int]
[T-New (n: int)  ⊢ '(Integer 0)' : int (n: int)  ⊢ '(Integer 0)' : ref int]
[T-Int T (acc: ref int) (n: int)  ⊢ '(Integer 1)' : Int]
[T-New (acc: ref int) (n: int)  ⊢ '(Integer 1)' : int (acc: ref int) (n: int)  ⊢ '(Integer 1)' : ref int]
[T-Var Γ('i') : ref int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier i)' : ref int]
[T-Deref (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier i)' : int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier i)' : int]
[T-Var Γ('n') : int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier n)' : int]
[T-Op<= (i: ref int) (acc: ref int) (n: int)  ⊢ '(Derefence ((Identifier i)))' : Int ∧ '(Identifier n)' : Int (i: ref int) (acc: ref int) (n: int)  ⊢ '(BinaryOperation (<=, (Derefence ((Identifier i))), (Identifier n)))' : Bool]
[T-Var Γ('acc') : ref int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier acc)' : ref int]
[T-Var Γ('acc') : ref int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier acc)' : ref int]
[T-Deref (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier acc)' : int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier acc)' : int]
[T-Var Γ('i') : ref int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier i)' : ref int]
[T-Deref (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier i)' : int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier i)' : int]
[T-Op+ (i: ref int) (acc: ref int) (n: int)  ⊢ '(Derefence ((Identifier acc)))' : Int ∧ '(Derefence ((Identifier i)))' : Int (i: ref int) (acc: ref int) (n: int)  ⊢ '(BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i)))))' : Int]
[T-Atr (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier acc)' : int ∧ '(BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i)))))' : int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i)))))))' : Unit]
[T-Var Γ('i') : ref int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier i)' : ref int]
[T-Var Γ('i') : ref int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier i)' : ref int]
[T-Deref (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier i)' : int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier i)' : int]
[T-Int T (i: ref int) (acc: ref int) (n: int)  ⊢ '(Integer 1)' : Int]
[T-Op+ (i: ref int) (acc: ref int) (n: int)  ⊢ '(Derefence ((Identifier i)))' : Int ∧ '(Integer 1)' : Int (i: ref int) (acc: ref int) (n: int)  ⊢ '(BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1)))' : Int]
[T-Atr (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier i)' : int ∧ '(BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1)))' : int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1)))))' : Unit]
[T-Sequence (i: ref int) (acc: ref int) (n: int)  ⊢ '(Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i)))))))' : Unit ∧ '(Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1)))))' : unit (i: ref int) (acc: ref int) (n: int)  ⊢ '(Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1)))))))' : unit]
[T-While (i: ref int) (acc: ref int) (n: int)  ⊢ '(BinaryOperation (<=, (Derefence ((Identifier i))), (Identifier n)))' : Bool ∧ '(Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1)))))))' : Unit (i: ref int) (acc: ref int) (n: int)  ⊢ '(While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Identifier n))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1)))))))))' : Unit]
[T-Var Γ('acc') : ref int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier acc)' : ref int]
[T-Deref (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier acc)' : int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Identifier acc)' : int]
[T-Sequence (i: ref int) (acc: ref int) (n: int)  ⊢ '(While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Identifier n))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1)))))))))' : Unit ∧ '(Derefence ((Identifier acc)))' : int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Sequence ((While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Identifier n))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))), (Derefence ((Identifier acc)))))' : int]
[T-Let (i: ref int) (acc: ref int) (n: int)  ⊢ '(New ((Integer 1)))' : ref int ∧ '(Sequence ((While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Identifier n))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))), (Derefence ((Identifier acc)))))' : int (i: ref int) (acc: ref int) (n: int)  ⊢ '(Let (i, ref int, (New ((Integer 1))), (Sequence ((While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Identifier n))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))), (Derefence ((Identifier acc)))))))' : int]
[T-Let (acc: ref int) (n: int)  ⊢ '(New ((Integer 0)))' : ref int ∧ '(Let (i, ref int, (New ((Integer 1))), (Sequence ((While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Identifier n))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))), (Derefence ((Identifier acc)))))))' : int (acc: ref int) (n: int)  ⊢ '(Let (acc, ref int, (New ((Integer 0))), (Let (i, ref int, (New ((Integer 1))), (Sequence ((While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Identifier n))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))), (Derefence ((Identifier acc)))))))))' : int]
[T-Let (n: int)  ⊢ '(Integer 10)' : int ∧ '(Let (acc, ref int, (New ((Integer 0))), (Let (i, ref int, (New ((Integer 1))), (Sequence ((While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Identifier n))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))), (Derefence ((Identifier acc)))))))))' : int (n: int)  ⊢ '(Let (n, int, (Integer 10), (Let (acc, ref int, (New ((Integer 0))), (Let (i, ref int, (New ((Integer 1))), (Sequence ((While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Identifier n))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))), (Derefence ((Identifier acc)))))))))))' : int]

------------------------------------------
 = 55
{E-Let-Subst  let n = 10 in ...}
{E-Let-Ref  let acc = ℓ0 in ...}
{E-Let-Ref  let i = ℓ1 in ...}
{E-Seq-Step  (Conditional ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))), ())); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))), ())); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))), ())); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))), ())); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))), ())); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))), ())); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))), ())); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))), ())); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))), ())); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))), ())); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Sequence ((Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))); (Derefence ((Identifier acc)))}
{E-Seq-Step  (Conditional ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))), (While ((BinaryOperation (<=, (Derefence ((Identifier i))), (Integer 10))), (Sequence ((Assignment ((Identifier acc), (BinaryOperation (+, (Derefence ((Identifier acc))), (Derefence ((Identifier i))))))), (Assignment ((Identifier i), (BinaryOperation (+, (Derefence ((Identifier i))), (Integer 1))))))))))), ())); (Derefence ((Identifier acc)))}
{E-Seq-Step  (); (Derefence ((Identifier acc)))}
{E-Seq  (); ... → (Derefence ((Identifier acc)))}
{E-Deref  !ℓ0 → 55}

------------------------------------------
(ℓ0: 55) (ℓ1: 11) 
------------------------------------------

Teste 28
Uma sequência `e1; e2` deve ter `e1` tipado como Unit, mas teve [TypeError] While inválido
	[(acc: ref int) (b: int) (a: int) ]

Teste 29
------------------------------------------
(Conditional ((BinaryOperation (=, (BinaryOperation (mod, (Integer 7), (Integer 2))), (Integer 0))), (Boolean true), (Boolean false)))
if
  (
    (
      7
      mod
      2
    )
    =
    0
  )
then
  true
else
  false
------------------------------------------
 : bool
[T-Int T  ⊢ '(Integer 7)' : Int]
[T-Int T  ⊢ '(Integer 2)' : Int]
[T-Opmod Error  ⊢ '(Integer 7)' : Int ∧ '(Integer 2)' : Int  ⊢ '(BinaryOperation (mod, (Integer 7), (Integer 2)))' : Int]
[T-Int T  ⊢ '(Integer 0)' : Int]
[T-Op=  ⊢ '(BinaryOperation (mod, (Integer 7), (Integer 2)))' : Int ∧ '(Integer 0)' : Int  ⊢ '(BinaryOperation (=, (BinaryOperation (mod, (Integer 7), (Integer 2))), (Integer 0)))' : Bool]
[T-Bool T  ⊢ '(Boolean true)' : Bool]
[T-Bool T  ⊢ '(Boolean false)' : Bool]
[T-If  ⊢ '(BinaryOperation (=, (BinaryOperation (mod, (Integer 7), (Integer 2))), (Integer 0)))' : Bool ∧ '(Boolean true)' : bool ∧ '(Boolean false)' : bool  ⊢ '(Conditional ((BinaryOperation (=, (BinaryOperation (mod, (Integer 7), (Integer 2))), (Integer 0))), (Boolean true), (Boolean false)))' : bool]

------------------------------------------
 = false
{E-If-False  if false then ... else ... → (Boolean false)}
{E-Bool  false}

------------------------------------------

------------------------------------------

Teste 30
------------------------------------------
(Conditional ((BinaryOperation (=, (BinaryOperation (mod, (Integer 12), (Integer 2))), (Integer 0))), (Boolean true), (Boolean false)))
if
  (
    (
      12
      mod
      2
    )
    =
    0
  )
then
  true
else
  false
------------------------------------------
 : bool
[T-Int T  ⊢ '(Integer 12)' : Int]
[T-Int T  ⊢ '(Integer 2)' : Int]
[T-Opmod Error  ⊢ '(Integer 12)' : Int ∧ '(Integer 2)' : Int  ⊢ '(BinaryOperation (mod, (Integer 12), (Integer 2)))' : Int]
[T-Int T  ⊢ '(Integer 0)' : Int]
[T-Op=  ⊢ '(BinaryOperation (mod, (Integer 12), (Integer 2)))' : Int ∧ '(Integer 0)' : Int  ⊢ '(BinaryOperation (=, (BinaryOperation (mod, (Integer 12), (Integer 2))), (Integer 0)))' : Bool]
[T-Bool T  ⊢ '(Boolean true)' : Bool]
[T-Bool T  ⊢ '(Boolean false)' : Bool]
[T-If  ⊢ '(BinaryOperation (=, (BinaryOperation (mod, (Integer 12), (Integer 2))), (Integer 0)))' : Bool ∧ '(Boolean true)' : bool ∧ '(Boolean false)' : bool  ⊢ '(Conditional ((BinaryOperation (=, (BinaryOperation (mod, (Integer 12), (Integer 2))), (Integer 0))), (Boolean true), (Boolean false)))' : bool]

------------------------------------------
 = true
{E-If-True  if true then ... else ... → (Boolean true)}
{E-Bool  true}

------------------------------------------

------------------------------------------

